<mat-card>
  <mat-card-content>
    <form [formGroup]="form" fxLayout="column" fxLayoutGap="20px">
      <app-search-user (user)="setUser($event)"></app-search-user>
      <span class="mat-h2">Data of the user</span>

      <div fxLayout="row wrap" fxLayoutGap="20px">
        <app-user-form
          fxFlex="100%"
          (values)="setUser($event)"
          [user]="user"
          [readonly]="true"></app-user-form>
      </div>

      <span class="mat-h2">Data of the credit</span>

      <div fxLayout="row">
        <mat-form-field fxFlex="100%" fxFlex.gt-md="40%">
          <input matInput formControlName="date" type="date" />
        </mat-form-field>
      </div>

      <div fxLayout="row">
        <app-credit-amount
          fxFlex="100%"
          (amount)="setAmount($event)"
          [min]="min"
          [max]="max">
        </app-credit-amount>
      </div>

      <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="20px">
        <button mat-flat-button routerLink="/credits/list">Cancel</button>
        <button
          mat-raised-button
          color="primary"
          [disabled]="form.invalid || loading"
          (click)="create()">
          <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px">
            <span>Create</span>
            <mat-spinner diameter="20" *ngIf="loading"></mat-spinner>
          </div>
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
